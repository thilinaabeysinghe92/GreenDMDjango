/* jscow - Javascript Component Framework - jscow-panel-1.0.0 - Mario Linz - http://www.jscow.de */jsCow.res.components.panel=function(){};jsCow.res.components.panel.prototype={init:function(){return this},setDefaultMVC:function(){this.setModel(jsCow.res.model.panel);this.setView(jsCow.res.view.panel);this.setController(jsCow.res.controller.panel);return this},open:function(){this.globalEvents.trigger("open",{},this);return this},collapse:function(){this.globalEvents.trigger("collapse",{},this);return this},setTitle:function(a){this.globalEvents.trigger("setTitle",{title:a},this);return this}};jsCow.res.model.panel=function(){this.type="jsCow.res.model.panel";this.config={enabled:true,collapsed:false,title:false,arrow:{open:"▼",collapsed:"►"}}};jsCow.res.model.panel.prototype={init:function(){this.globalEvents.trigger("viewInit",this.getConfig(),this.getCmp())},collapse:function(){this.setConfig({collapsed:true});this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp());this.events.trigger("collapse",this.getConfig());return this},open:function(){this.setConfig({collapsed:false});this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp());this.events.trigger("open",this.getConfig());return this},setTitle:function(a){if(this.isEnabled()){this.setConfig({title:a.data.title});this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp());this.events.trigger("onchange",this.getConfig())}return this}};jsCow.res.view.panel=function(){this.execInit=false;this.type="jsCow.res.view.panel";this.dom={};this.dom.main=$("<div/>").addClass("jscow-panel clearfix");this.dom.title=$("<div/>").addClass("jscow-panel-title jscow-cursor clearfix");this.dom.title.arrow=$("<div/>").addClass("jscow-panel-title-arrow jscow-float-left").appendTo(this.dom.title);this.dom.title.text=$("<div/>").addClass("jscow-panel-title-text jscow-float-left").appendTo(this.dom.title);this.dom.content=$("<div/>").addClass("jscow-panel-content clearfix");this.configCache={}};jsCow.res.view.panel.prototype={init:function(b){var a=b.data;this.configCache=a;if(a.title!=undefined&&a.title){this.dom.title.arrow.html(a.arrow.open);this.dom.title.text.html(a.title);this.dom.title.appendTo(this.dom.main)}this.dom.content.appendTo(this.dom.main);this.dom.title.click((function(c){return function(){if(c.configCache.collapsed){c.open()}else{c.collapse()}}})(this));if(a.collapsed){this.collapse()}if(a.collapsed){this.dom.title.arrow.html(a.arrow.collapsed);this.dom.content.hide()}else{this.dom.title.arrow.html(a.arrow.open);this.dom.content.show()}this.update(b)},update:function(a){var a=a.data;this.configCache=a;if(a){if(!a.enabled||a.globalDisabled){this.dom.main.addClass("jscow-panel-disabled").removeClass("jscow-panel")}else{this.dom.main.addClass("jscow-panel").removeClass("jscow-panel-disabled");if(a.collapsed){this.dom.title.arrow.html(a.arrow.collapsed);this.dom.content.hide()}else{this.dom.title.arrow.html(a.arrow.open);this.dom.content.show()}if(a.hide){this.dom.main.addClass("jscow-hide")}else{this.dom.main.removeClass("jscow-hide")}}}return this},open:function(){this.globalEvents.trigger("open",{},this.getCmp());return this},collapse:function(){this.globalEvents.trigger("collapse",{},this.getCmp());return this}};jsCow.res.controller.panel=function(){this.type="jsCow.res.controller.panel"};jsCow.res.controller.panel.prototype={init:function(){},handleOpen:function(a){if(this.isMethodExists(this.getModel().open)){this.getModel().open(a)}return true},handleCollapse:function(a){if(this.isMethodExists(this.getModel().collapse)){this.getModel().collapse(a)}return true},handleSetTitle:function(a){if(this.isMethodExists(this.getModel().setTitle)){this.getModel().setTitle(a)}return true}};